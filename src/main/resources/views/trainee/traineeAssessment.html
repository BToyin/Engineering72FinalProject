<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/fragments :: layout(~{::head}, ~{::nav}, ~{::main})}">
<head th:replace="~{fragments/head :: headFragment(title='Trainee Tracker')}">

        <meta charset="UTF-8">
        <link rel="stylesheet" href="/css/myStyle.css"/>
        <link rel="stylesheet" href="webjars/bootstrap/4.5.2/css/bootstrap.css"/>
        <link rel="stylesheet" href="vendor/fontawesome-free/css/all.min.css">
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
              rel="stylesheet">
        <link rel ="stylesheet" th:href="@{/css/assessmentSummaryStyle.css}"/>
        <title>Trainee Assessments</title>
    </head>
<body>
<nav th:replace="~{fragments/publicNavigation}">Navigation</nav>
<div th:fragment="assessmentFragment">
<main>
    <div class="container-fluid">
        <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h3 mb-0 text-gray-800" th:text="${trainee.getFirstName() + ' ' + trainee.getLastName()} + ' - Assessments'"></h1>
        </div>
    </div>
    <br/>
    <p th:if="${assessments.isEmpty()}"
       th:text="${'No assessments available for ' + trainee.getFirstName() + ' ' + trainee.getLastName()}"></p>

<!--    <div class="accordion" id="accordionExample">-->
<!--        <table class="table">-->
<!--&lt;!&ndash;            <div class="card">&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="card-header">&ndash;&gt;-->
<!--                    &lt;!&ndash;                <h2 class="mb-0">&ndash;&gt;-->
<!--                    <thead>-->
<!--                    <tr>-->
<!--                        <th></th>-->
<!--                        <th>Score (%)</th>-->
<!--                        <th>Grade</th>-->
<!--                        <th>Date</th>-->
<!--                        <th></th>-->
<!--                    </tr>-->
<!--                    </thead>-->
<!--                    &lt;!&ndash;                </h2>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--            <tbody>-->
<!--            <tr th:each="assessment : ${assessments}">-->
<!--                <div class="card" >-->
<!--                    <div class="card-header"-->
<!--                         th:id="${'heading' + codingGamesAPI.getAssessmentName(assessment)}">-->
<!--                        &lt;!&ndash;                <h2 class="mb-0">&ndash;&gt;-->
<!--&lt;!&ndash;                            <tr>&ndash;&gt;-->
<!--                                &lt;!&ndash;                        <div class="flex-list">&ndash;&gt;-->
<!--                                &lt;!&ndash;                            <ul>&ndash;&gt;-->
<!--                                <th th:text="${codingGamesAPI.getAssessmentName(assessment)}">Assessment name</th>-->
<!--                                <td th:text="${codingGamesAPI.getAssessmentScore(assessment)}">Assessment score</td>-->
<!--                                <td>-->
<!--                                    <span th:text="${codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment))}"-->
<!--                                          th:if="${codingGamesAPI.getFirstLetter(codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment)))} == 'A'"-->
<!--                                          style="color: darkgreen"></span>-->
<!--                                    <span th:text="${codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment))}"-->
<!--                                          th:if="${codingGamesAPI.getFirstLetter(codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment)))} == 'B'"-->
<!--                                          style="color: lightgreen"></span>-->
<!--                                    <span th:text="${codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment))}"-->
<!--                                          th:if="${codingGamesAPI.getFirstLetter(codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment)))} == 'C'"-->
<!--                                          style="color: yellow"></span>-->
<!--                                    <span th:text="${codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment))}"-->
<!--                                          th:if="${codingGamesAPI.getFirstLetter(codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment)))} == 'D'"-->
<!--                                          style="color: orange"></span>-->
<!--                                    <span th:text="${codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment))}"-->
<!--                                          th:if="${codingGamesAPI.getFirstLetter(codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment)))} == 'F'"-->
<!--                                          style="color: red"></span>-->
<!--                                </td>-->
<!--                                <td th:text="${codingGamesAPI.getAssessmentDate(assessment)}">Assessment Date</td>-->
<!--                                &lt;!&ndash;                            </ul>&ndash;&gt;-->
<!--                                &lt;!&ndash;                        </>&ndash;&gt;-->
<!--                                <td>-->
<!--                                    <button aria-expanded="show"-->
<!--                                            class="btn btn-link btn-block text-left"-->
<!--                                            data-toggle="collapse"-->
<!--                                            th:data-target="${'#collapse' + codingGamesAPI.getAssessmentName(assessment)}"-->
<!--                                            th:aria-controls="${'collapse' + codingGamesAPI.getAssessmentName(assessment)}"-->
<!--                                            type="button">-->
<!--                                        See Further breakdown </button>-->
<!--                                </td>-->

<!--                        &lt;!&ndash;                </h2>&ndash;&gt;-->
<!--                    </div>-->
<!--                </div>-->
<!--            </tr>-->
<!--            <tr th:each="assessment : ${assessments}">-->
<!--                    <div class="card-body" >-->
<!--                        <div th:id="${'collapse' + codingGamesAPI.getAssessmentName(assessment)}"-->
<!--                             class="collapse multi-collapse" data-parent="#accordion">-->
<!--&lt;!&ndash;                                <div class="card card-body">&ndash;&gt;-->
<!--                                    <h2 th:text="${codingGamesAPI.getAssessmentName(assessment) +' - ' + codingGamesAPI.getAssessmentTags(assessment)}"></h2>-->
<!--                                    <br/>-->
<!--                                    <h4>Assessment Overview</h4>-->
<!--                                    <ul>-->
<!--                                        <li>Score</li>-->
<!--                                        <li th:text="${codingGamesAPI.getAssessmentScore(assessment)} + '%'"></li>-->
<!--                                    </ul>-->
<!--                                    <ul>-->
<!--                                        <li>Duration</li>-->
<!--                                        <li th:text="${codingGamesAPI.getAssessmentDuration(assessment)} + ' mins'"></li>-->
<!--                                    </ul>-->
<!--                                    <ul>-->
<!--                                        <li>Comparative Score</li>-->
<!--                                        <li th:text="${codingGamesAPI.getAssessmentComparativeScore(assessment)} + '%'"></li>-->
<!--                                    </ul>-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--                        </div>-->

<!--                        <div th:id="${'collapse' + codingGamesAPI.getAssessmentName(assessment)}"-->
<!--                             class="collapse multi-collapse" data-parent="#accordion">-->
<!--&lt;!&ndash;                                <div class="card card-body">&ndash;&gt;-->
<!--                                    <h4>Assessment Breakdown</h4>-->
<!--                                    <ul>-->
<!--                                        <li style="float: left">Design Score</li>-->
<!--                                        <li style="float: right" th:text="${codingGamesAPI.getAssessmentDesignScore(assessment)} + '%'"></li>-->
<!--                                    </ul>-->
<!--                                    <ul>-->
<!--                                        <li>Language Knowledge Score</li>-->
<!--                                        <li th:text="${codingGamesAPI.getAssessmentLanguageKnowledgeScore(assessment)} + '%'"></li>-->
<!--                                    </ul>-->
<!--                                    <ul>-->
<!--                                        <li>Problem Solving Score</li>-->
<!--                                        <li th:text="${codingGamesAPI.getAssessmentProblemSolvingScore(assessment)} + '%'"></li>-->
<!--                                    </ul>-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--                        </div>-->
<!--                    </div>-->
<!--            </tr>-->
<!--            </tbody>-->
<!--        </table>-->
<!--    </div>-->
<!--</main>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->

<div class="accordion">
    <table class="table" id="accordionExample" th:if="${!assessments.isEmpty()}">
        <thead class="thead-light">
        <tr>
            <th scope="col"></th>
            <th scope="col">Score</th>
            <th scope="col">Grade</th>
            <th scope="col">Assessment date</th>
            <th scope="col"></th>
        </tr>
        </thead>

        <tbody th:each="assessment : ${assessments}">
        <tr >
            <th scope="row" th:text="${codingGamesAPI.getAssessmentName(assessment)}">Name</th>
            <td th:text="${codingGamesAPI.getAssessmentScore(assessment)}">Score</td>
            <td>
                <span th:text="${codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment))}"
                      th:if="${codingGamesAPI.getFirstLetter(codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment)))} == 'A'"
                      style="color: darkgreen">
                </span>
                <span th:text="${codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment))}"
                      th:if="${codingGamesAPI.getFirstLetter(codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment)))} == 'B'"
                      style="color: lightgreen">
                </span>
                <span th:text="${codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment))}"
                      th:if="${codingGamesAPI.getFirstLetter(codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment)))} == 'C'"
                      style="color: yellow">
                </span>
                <span th:text="${codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment))}"
                      th:if="${codingGamesAPI.getFirstLetter(codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment)))} == 'D'"
                      style="color: orange">
                </span>
                <span th:text="${codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment))}"
                      th:if="${codingGamesAPI.getFirstLetter(codingGamesAPI.getAssessmentGrade(codingGamesAPI.getAssessmentScore(assessment)))} == 'F'"
                      style="color: red">
                </span>
            </td>
            <td th:text="${codingGamesAPI.getAssessmentDate(assessment)}">Date</td>
            <td>
                <button aria-expanded="false"
                        class="btn btn-link btn-block text-left"
                        data-toggle="collapse"
                        th:data-target="${'#collapse' + codingGamesAPI.getAssessmentName(assessment)}"
                        th:aria-controls="${'collapse' + codingGamesAPI.getAssessmentName(assessment)}"
                        type="button">See More Details
                </button>
            </td>
        </tr>
        <div class="row" >
            <div class="col">
                <div th:id="${'collapse' + codingGamesAPI.getAssessmentName(assessment)}"
                     class="collapse multi-collapse">
                        <div class="card card-body">
                            <h2 th:text="${codingGamesAPI.getAssessmentName(assessment) +' - ' + codingGamesAPI.getAssessmentTags(assessment)}"></h2>
                            <br/>
                            <h4>Assessment Overview</h4>
                            <ul>
                                <li>Score</li>
                                <li th:text="${codingGamesAPI.getAssessmentScore(assessment)} + '%'"></li>
                            </ul>
                            <ul>
                                <li>Duration</li>
                                <li th:text="${codingGamesAPI.getAssessmentDuration(assessment)} + ' mins'"></li>
                            </ul>
                            <ul>
                                <li>Comparative Score</li>
                                <li th:text="${codingGamesAPI.getAssessmentComparativeScore(assessment)} + '%'"></li>
                            </ul>
                        </div>
                </div>
            </div>
            <div class="col">
                <div th:id="${'collapse' + codingGamesAPI.getAssessmentName(assessment)}"
                     class="collapse multi-collapse">
                        <div class="card card-body">
                            <h4>Assessment Breakdown</h4>
                            <ul>
                                <li style="float: left">Design Score</li>
                                <li style="float: right" th:text="${codingGamesAPI.getAssessmentDesignScore(assessment)} + '%'"></li>
                            </ul>
                            <ul>
                                <li>Language Knowledge Score</li>
                                <li th:text="${codingGamesAPI.getAssessmentLanguageKnowledgeScore(assessment)} + '%'"></li>
                            </ul>
                            <ul>
                                <li>Problem Solving Score</li>
                                <li th:text="${codingGamesAPI.getAssessmentProblemSolvingScore(assessment)} + '%'"></li>
                            </ul>
                        </div>
                </div>
            </div>
        </div>
        </tbody>
    </table>
</div>
</main>
</div>
</body>
</html>